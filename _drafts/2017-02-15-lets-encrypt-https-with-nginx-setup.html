---
layout: post
title: Let's Encrypt HTTPS with NGINX setup
date: '2017-02-15T22:37:00.000+07:00'
author: Huy Luu
tags:
- Linux
- Server
- HTTP
modified_time: '2017-02-15T22:51:36.519+07:00'
blogger_id: tag:blogger.com,1999:blog-2409403985918607624.post-8855126060299236135
blogger_orig_url: http://publicloop.blogspot.com/2017/02/lets-encrypt-https-with-nginx-setup.html
---

This is simplified steps, for full setup, refer to this <a href="https://www.digitalocean.com/community/tutorials/how-to-secure-nginx-with-let-s-encrypt-on-ubuntu-16-04" rel="nofollow" target="_blank">tutorial</a>.<br /><br />Assumed NGINX is installed and running.<br /><h2>Step 1: Install Let's Encrypt Client</h2>This is a helper to ease the installing process: <br /><pre class="prettyprint">apt-get install letsencrypt</pre><h2>Step 2: Obtain an SSL Certificate</h2>In order to get cert, Let's Encrypt needs to validate our web server, by requesting some information from our server. And we use LE client to create that information, so prepare a location.<br /><br /><h3>Prepare</h3>Supposed we have NGINX serving a site at <i>/var/www/html</i>. So make it accessible from outside, by editing&nbsp;<i>/etc/nginx/sites-available/default</i> (or your exposed site):<br /><pre class="prettyprint">location ~ /.well-known {<br />&nbsp; allow all;<br />}</pre><h3>Request certificate</h3><pre class="prettyprint">letsencrypt certonly -a webroot --webroot-path=/var/www/html -d example.com -d www.example.com</pre><h3>Result</h3>Certificate will be obtained and stored in&nbsp;<i>/etc/letsencrypt/live/example.com</i>. <br /><h2>Step 3: Configure NGINX to use certificate</h2>Edit <i>/etc/nginx/sites-available/default</i> like this:<br /><pre class="prettyprint">server {<br />&nbsp; &nbsp; ...<br />&nbsp; &nbsp;&nbsp;listen 443 ssl;<br />&nbsp; &nbsp; ssl_certificate /etc/letsencrypt/live/example.com/fullchain.pem;<br />&nbsp; &nbsp; ssl_certificate_key /etc/letsencrypt/live/example.com/privkey.pem;<br />&nbsp; &nbsp; ...<br />}</pre><h2>Renew certificate</h2><pre class="prettyprint">letsencrypt renew</pre>You may want to setup a cron task to schedule auto renewal